<table class="mat-elevation-z8" (change)="saveForecasts()">
    <tr>
        <th>

        </th>
        <th>
            {{ "P" + (period+1) }}
        </th>
        <th>
            {{ "P" + (period+2) }}
        </th>
        <th>
            {{ "P" + (period+3) }}
        </th>
        <th>
            {{ "P" + (period+4) }}
        </th>
    </tr>
    <tr>
        {{ '' // Product 1 }}
        <td>
            P1
        </td>
        <td>
            <input matInput class="md-table" type="number" [(ngModel)]="forecastP1.p1" (change)="checkIfNumberIsValid(forecastP1, forecastP1.p1)"/> 
        </td>
        <td>
            <input matInput class="md-table" type="number" [(ngModel)]="forecastP2.p1"  (change)="checkIfNumberIsValid(forecastP2, forecastP2.p1)"/> 
        </td>
        <td>
            <input matInput class="md-table" type="number" [(ngModel)]="forecastP3.p1"  (change)="checkIfNumberIsValid(forecastP3, forecastP3.p1)"/> 
        </td>
        <td>
            <input matInput class="md-table" type="number" [(ngModel)]="forecastP4.p1" (change)="checkIfNumberIsValid(forecastP4, forecastP4.p1)"/> 
        </td>
    </tr>
    <tr>
        {{ '' // Product 2 }}
        <td>
            P2
        </td>
        <td>            
            <input matInput class="md-table" type="number" [(ngModel)]="forecastP1.p2" (change)="checkIfNumberIsValid(forecastP1, forecastP1.p2)"/> 
        </td>
        <td>
            <input matInput class="md-table" type="number" [(ngModel)]="forecastP2.p2" (change)="checkIfNumberIsValid(forecastP2, forecastP2.p2)"/> 
        </td>
        <td>            
            <input matInput class="md-table" type="number" [(ngModel)]="forecastP3.p2" (change)="checkIfNumberIsValid(forecastP3, forecastP3.p2)"/> 
        </td>
        <td>            
            <input matInput class="md-table" type="number" [(ngModel)]="forecastP4.p2" (change)="checkIfNumberIsValid(forecastP4, forecastP4.p2)"/> 
        </td>
    </tr>
    <tr> 
        {{ '' // Product 3 }}
        <td>
            P3
        </td>
        <td>
            <input matInput class="md-table" type="number" [(ngModel)]="forecastP1.p3" (change)="checkIfNumberIsValid(forecastP1, forecastP1.p3)"/> 
        </td>
        <td>
            <input matInput class="md-table" type="number" [(ngModel)]="forecastP2.p3" (change)="checkIfNumberIsValid(forecastP2, forecastP2.p3)"/> 
        </td>
        <td>            
            <input matInput class="md-table" type="number" [(ngModel)]="forecastP3.p3" (change)="checkIfNumberIsValid(forecastP3, forecastP3.p3)"/> 
        </td>        
        <td>
            <input matInput class="md-table" type="number" [(ngModel)]="forecastP4.p3" (change)="checkIfNumberIsValid(forecastP4, forecastP4.p3)"/> 
        </td>
    </tr>
    
</table>

<div>
    <mat-divider style="margin-top: 12px; margin-bottom: 12px;"></mat-divider>
</div>
<!-- Tabelle als mat-table -->

<table mat-table [dataSource]="forecasts"  class="mat-elevation-z8 forecast-table" (change)="saveForecasts()">
    <ng-container matColumnDef="period">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let forecast; let i = index">{{ "forecast.period_label"| translate }} {{ period + i }}</td> 
    </ng-container>
    <ng-container matColumnDef="p1">
        <th mat-header-cell *matHeaderCellDef>P1</th>
        <td mat-cell *matCellDef="let forecast"> 
            <div class="input-wrapper">
                <mat-form-field>
                    <input matInput class="md-table" min="0" max="1000" step="10" pattern="[0-9]{0,5}" type="number" [(ngModel)]="forecast.p1"/>
                </mat-form-field>
            </div>
        </td>
    </ng-container>
    <ng-container matColumnDef="p2">
        <th mat-header-cell *matHeaderCellDef>P2</th>
        <td mat-cell *matCellDef="let forecast">
            <div class="input-wrapper">
                <mat-form-field>
                    <input matInput class="md-table" min="0"  max="1000" step="10" pattern="[0-9]{0,5}" type="number" [(ngModel)]="forecast.p2"/>
                </mat-form-field>
            </div>
        </td>
    </ng-container>
    <ng-container matColumnDef="p3">
        <th mat-header-cell *matHeaderCellDef>P3</th>
        <td mat-cell *matCellDef="let forecast">
            <div class="input-wrapper">
                <mat-form-field>
                    <input matInput class="md-table" min="0"  max="1000" step="10" pattern="[0-9]{0,5}" type="number" [(ngModel)]="forecast.p3"/>
                </mat-form-field>
            </div>
        </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
    <tr mat-row *matRowDef="let myRowData; columns: columnsToDisplay"></tr>

      
</table>
